# =============================================================================
# 온고지신 AI - 환경 변수 설정
# =============================================================================
# ⚠️  주의: 이 파일을 .env.local로 복사하고 실제 값을 입력하세요
# ⚠️  절대로 실제 API 키를 이 파일에 입력하지 마세요!
# =============================================================================

# 환경
NODE_ENV=development
ENVIRONMENT=development

# =============================================================================
# 데이터베이스
# =============================================================================
# PostgreSQL 연결 문자열 (Supabase 또는 로컬)
DATABASE_URL=postgresql://user:password@localhost:5432/hanmed_cdss
REDIS_URL=redis://localhost:6379

# =============================================================================
# 인증 (반드시 강력한 랜덤 문자열로 교체!)
# =============================================================================
# 생성 명령어: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_ME_USE_CRYPTO_RANDOM_BYTES_64
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_SECRET=CHANGE_ME_USE_DIFFERENT_CRYPTO_RANDOM_BYTES_64
REFRESH_TOKEN_EXPIRES_IN=30d

# =============================================================================
# 데이터 암호화 (환자 데이터 AES-256-GCM 암호화용)
# =============================================================================
# 생성 명령어: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=CHANGE_ME_USE_CRYPTO_RANDOM_BYTES_32_HEX

# =============================================================================
# AI/ML APIs
# =============================================================================
# OpenAI (임베딩용) - https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key

# Anthropic Claude (LLM용) - https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Pinecone (벡터 DB) - https://www.pinecone.io/
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_INDEX_NAME=hanmed-cases
PINECONE_ENVIRONMENT=us-east-1

# =============================================================================
# 결제 (토스페이먼츠)
# =============================================================================
# 토스페이먼츠 API 키 (https://developers.tosspayments.com 에서 발급)
# ⚠️  테스트 키(test_)와 라이브 키(live_)를 구분하세요!
TOSS_SECRET_KEY=test_sk_your-test-secret-key
TOSS_CLIENT_KEY=test_ck_your-test-client-key

# 요금제 정보 (코드에 하드코딩됨)
# Basic: 월 19,900원 / 연 199,000원
# Professional: 월 99,000원 / 연 990,000원
# Clinic: 월 199,000원 / 연 1,990,000원

# =============================================================================
# 서비스 간 통신
# =============================================================================
AI_ENGINE_URL=http://localhost:8000
NESTJS_API_URL=http://localhost:3001
# 내부 API 키 (서비스 간 통신용) - 반드시 변경!
INTERNAL_API_KEY=CHANGE_ME_INTERNAL_API_KEY

# =============================================================================
# CORS 설정
# =============================================================================
CORS_ORIGIN=http://localhost:5173

# =============================================================================
# 프론트엔드
# =============================================================================
VITE_API_URL=http://localhost:3001/api/v1

# =============================================================================
# 공공데이터 API (식품의약품안전처)
# =============================================================================
# 공공데이터포털(https://www.data.go.kr)에서 API 키 발급 필요
VITE_PUBLIC_DATA_API_KEY=your-public-data-api-key

# =============================================================================
# 이메일 (비밀번호 재설정용)
# =============================================================================
# SMTP 서버 설정 (Gmail, Naver, SendGrid 등)
# Gmail 예시: smtp.gmail.com / 587 / your-email@gmail.com / 앱 비밀번호
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM="온고지신 AI" <noreply@hanmed.com>

# 프론트엔드 URL (비밀번호 재설정 링크용)
FRONTEND_URL=http://localhost:5173

# =============================================================================
# 에러 추적 (Sentry)
# =============================================================================
# Sentry DSN - https://sentry.io 에서 프로젝트 생성 후 DSN 복사
SENTRY_DSN=https://your-dsn@sentry.io/project-id
VITE_SENTRY_DSN=https://your-dsn@sentry.io/project-id
VITE_APP_VERSION=1.0.0
